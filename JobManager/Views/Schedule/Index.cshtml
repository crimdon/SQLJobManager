
@{
    ViewBag.Title = "Job Summary";
}

@section LeftMenu{
    @Html.Partial("_LeftMenu")    
}

@using GridMvc.Html;
@using GridMvc.Sorting;
@using JobManager.Models;

@model List<JobSummary>

<link href="@Url.Content("~/Content/Gridmvc.css")" rel="stylesheet" />
<link href="@Url.Content("~/Content/bootstrap.min.css")" rel="stylesheet" />

<div class="jumbotron">
    <h5>Job Summary</h5>
</div>


<div class="code-cut">
    @Html.Grid(Model).Columns(columns =>
{
    columns.Add(JobSummary => JobSummary.ServerName)
    .Titled("Server Name")
    .Sortable(true)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.JobName)
    .Titled("Job Name")
    .Sortable(true)
    .SortInitialDirection(GridSortDirection.Ascending)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.Enabled)
    .Titled("Enabled")
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.Status)
    .Titled("Status")
    .Sortable(true)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.LastOutcome)
    .Titled("Last Outcome")
    .Sortable(true)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.LastRun)
    .Titled("Last Run")
    .Sortable(true)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.NextRun)
    .Titled("Next Run")
    .Sortable(true)
    .Filterable(false);
    columns.Add(Jobsummary => Jobsummary.Category)
    .Titled("Category")
    .Sortable(true)
    .Filterable(true);
    columns.Add(Jobsummary => Jobsummary.Runable)
    .Titled("Runable")
    .Filterable(true);
    columns.Add(Jobsummary => Jobsummary.Scheduled)
    .Titled("Scheduled")
    .Filterable(true);
}).WithPaging(25)
    <div class="ajaxLoaderDiv hidden">
        <p>
            <label>Loading...</label>
        </p>
    </div>
</div>

<style>
    .ajaxLoaderDiv {
        position: fixed;
        top: 50%;
        left: 50%;
        height: 6em;
        padding-top: 2.3em;
        /* The following rules are the
     ones most likely to change */
        width: 20em;
        /* Set 'margin-left' to a negative number
     that is 1/2 of 'width' */
        margin-left: -10em;
        padding-left: 2.1em;
        background-color: black;
        color: white;
        -webkit-border-radius: 0.4em;
        -moz-border-radius: 0.4em;
        border-radius: 0.4em;
        box-shadow: 0.4em 0.4em rgba(0,0,0,0.6);
        -webkit-box-shadow: 0.4em 0.4em rgba(0,0,0,0.6);
        -moz-box-shadow: 0.4em 0.4em rgba(0,0,0,0.6);
    }

        .ajaxLoaderDiv i {
            margin-right: 0.5em;
        }
</style>

<style>
    .ajaxLoaderDiv-bg {
        background-color: lightgray;
        opacity: .5;
    }
</style>

<script type="text/javascript">
    function showPageLoadingMessage() {
    $('#ajaxLoaderDiv').show();
    $(".ajaxLoaderDiv").removeClass("hidden");
    $("body").addClass("ajaxLoaderDiv-bg");
 }
</script>
